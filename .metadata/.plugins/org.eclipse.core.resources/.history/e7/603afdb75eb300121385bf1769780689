package demo.mvc.flickr.controller
{
    import demo.mvc.flickr.model.FlickrProxy;
    import demo.mvc.flickr.view.components.skins.ImagePanelMediator;

    import org.puremvc.as3.interfaces.ICommand;
    import org.puremvc.as3.interfaces.INotification;
    import org.puremvc.as3.patterns.command.SimpleCommand;

    public class StartupCommand extends SimpleCommand implements ICommand
    {
        override public function execute(notification:INotification):void
        {
            var proxy:FlickrProxy = new FlickrProxy();

            facade.registerProxy(proxy);

            var app:FlickrAirApp = notification.getBody() as FlickrAirApp;

            facade.registerMediator(new ImagePanelMediator(app.imagePanel));

            //sendNotification(ApplicationFacade.GET_BOOKS);
            proxy.getImages();
        }
    }
}
